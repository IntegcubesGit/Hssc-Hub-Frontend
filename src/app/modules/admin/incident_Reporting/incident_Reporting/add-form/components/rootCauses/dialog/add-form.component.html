<div class="-m-6 flex max-h-screen max-w-240 flex-col md:min-w-160">
    <!-- Header -->
    <div
        class="flex h-16 flex-0 items-center justify-between bg-primary pl-6 pr-3 text-on-primary sm:pl-8 sm:pr-5"
    >
        <div class="text-lg font-medium">Involved Person Information</div>
        <button mat-icon-button (click)="Close()" [tabIndex]="-1">
            <mat-icon
                class="text-current"
                [svgIcon]="'heroicons_outline:x-mark'"
            ></mat-icon>
        </button>
    </div>
<!-- Compose form -->
<form
    class="flex flex-auto flex-col overflow-y-auto p-6 sm:p-8"
    [formGroup]="composeForm"
>
<div class="flex flex-col md:flex-row md:space-x-4">
<!-- Internal/External Dropdown -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Cause Type</span>
    <mat-form-field class="flex-auto">
        <mat-select formControlName="internalExternal" placeholder="Select Internal/External">
            <mat-option value="Internal">Internal</mat-option>
            <mat-option value="External">External</mat-option>
        </mat-select>
    </mat-form-field>
</div>

<!-- Analysis Methodology -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Analysis Methodology</span>
    <mat-form-field class="flex-auto">
        <input matInput type="text" formControlName="analysisMethodology" />
    </mat-form-field>
</div>
</div>
<div class="flex flex-col md:flex-row md:space-x-4">
<!-- Details -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Details</span>
    <mat-form-field class="flex-auto">
        <textarea matInput formControlName="details" cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="10"></textarea>
    </mat-form-field>
    
</div>

<!-- Most Probable Cause -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Most Probable Cause</span>
    <mat-form-field class="flex-auto">
        <input matInput type="text" formControlName="mostProbableCause" />
    </mat-form-field>
</div>
</div>
<div class="flex flex-col md:flex-row md:space-x-4">
<!-- Cause Description -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Cause Description</span>
    <mat-form-field class="flex-none">
        <textarea matInput formControlName="causeDescription" cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="10"></textarea>
    </mat-form-field>
</div>

<!-- Lesson Learnt -->
<div class="flex flex-col w-full">
    <span class="text-left min-w-32 mr-4 mb-1 font-medium hover:font-bold">Lesson Learnt</span>
    <mat-form-field class="flex-none">
        <textarea matInput formControlName="lessonLearnt" cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="10"></textarea>
    </mat-form-field>
</div>
</div>

    <!-- Actions -->
    <div class="mt-4 flex flex-col justify-between sm:mt-6 sm:flex-row sm:items-center">
    
        <div class="mt-4 flex items-center sm:mt-0 justify-end w-fulljustify-end w-full">
        
            <!-- Save as draft -->
            <button type="button" class="sm:mx-3" mat-stroked-button  (click)="Close()">
                <span>Cancel</span>
            </button>
            <!-- Send -->
            <button class="order-first sm:order-last" [disabled]="!composeForm.valid" mat-flat-button [color]="'primary'" (click)="onSubmit()">
                {{ buttonText }}
            </button>
        </div>
    </div>
</form>
</div>
